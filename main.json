{"meta":{"generator":"0.10.0","format":20,"date":1629383904118},"custom":{"general":{"name":"General","files":{"welcome":{"name":"Welcome","type":"md","content":"<h2 align=\"center\">Discord.js Sharder</h2>\n\n<p align=\"center\">\n<a href=\"https://patreon.com/yeen\"><img alt=\"Patreon\" src=\"https://img.shields.io/badge/patreon-donate?color=F77F6F&labelColor=F96854&logo=patreon&logoColor=ffffff\"></a>\n<a href=\"https://discord.gg/eazpsZNrRk\"><img alt=\"Discord\" src=\"https://img.shields.io/discord/368557500884189186?color=7389D8&labelColor=6A7EC2&logo=discord&logoColor=ffffff\"></a>\n<img href=\"https://www.travis-ci.com/github/MrGriefs/discordjs-sharder\" alt=\"Travis (.com)\" src=\"https://www.travis-ci.com/MrGriefs/discord.js-cluster.svg?branch=master\">\n<img href=\"https://www.npmjs.com/package/discord.js-cluster\" alt=\"David\" src=\"https://img.shields.io/david/MrGriefs/discord.js-cluster\">\n<img href=\"https://www.npmjs.com/package/discord.js-cluster\" alt=\"node-current\" src=\"https://img.shields.io/node/v/discord.js-cluster\">\n<img href=\"https://www.npmjs.com/package/discord.js-cluster\" alt=\"GitHub package.json version\" src=\"https://img.shields.io/github/package-json/v/MrGriefs/discord.js-cluster\">\n<a href=\"https://npm.runkit.com/discord.js-cluster\"><img alt=\"RunKit\" src=\"https://img.shields.io/badge/Run-Kit-red\"></a>\n</p>\n\n## Table of Contents\n\n- [About](#about)\n- [Installation](#installation)\n- [Usage](#usage)\n- [Documentation](#documentation)\n\n## About\n\ndiscord.js-cluster is a powerful cluster manager for the [Discord.js](https://discord.js.org/) library which implements [multiprocessing](https://en.wikipedia.org/wiki/Multicore_programming) to increase the performance of your client, heavily inspired by the Discord.js built-in [ShardingManager](https://discord.js.org/#/docs/main/stable/class/ShardingManager).  \nUsing the Node.js [cluster](https://nodejs.org/api/cluster.html) module, Discord.js Cluster spreads all [ShardingManager](https://discord.js.org/#/docs/main/stable/class/ShardingManager)s evenly among cores, and is easy to implement!\n\n## Installation\n\nWith npm:  \n\n```bash\n$ npm install discord.js-cluster\n```\n\nWith yarn:  \n\n```bash\n$ yarn add discord.js-cluster\n```\n\n## Usage\n\nCan be used exactly like the [ShardingManager](https://discord.js.org/#/docs/main/stable/class/ShardingManager)  \n`index.js:`\n\n```javascript\nconst { ClusterManager } = require('discord.js-cluster');\n\nconst manager = new ClusterManager('./bot.js', { token: 'your-token-goes-here' });\n\nmanager.on('clusterCreate', cluster => console.log(`Launched cluster ${cluster.id}`));\n\nmanager.spawn();\n```\n\n`bot.js:`\n\n```javascript\nconst { Client } = require('discord.js-cluster');\nconst { Intents } = require('discord.js');\n\nconst client = new Client({ intents: [Intents.FLAGS.GUILDS] });\n\nclient.on('ready', () => console.log(`Cluster ${client.cluster.id} is ready!`));\n\nclient.login(); // no token is required here!\n```\n\n## <a id=\"documentation\"></a> [Documentation](https://mrgriefs.github.io/discord.js-cluster)\n\nYou can find more documentation on the [website](https://mrgriefs.github.io/discord.js-cluster).\n","path":"README.md"}}}},"classes":[{"name":"ClusterClient","description":"Extends the base {@link Client} and creates a {@link ClusterClientUtil} and\n{@link ShardClientUtil} for interacting with the {@link Cluster} and {@link Shard}s.","extends":[[["Client"]]],"construct":{"name":"ClusterClient","params":[{"name":"options","description":"Options to pass to the {@link Client}","type":[[["ClusterClientOptions"]]]}]},"props":[{"name":"cluster","description":"Cluster helpers for the client (only if the process was spawned from a {@link ClusterManager})","nullable":true,"type":[[["ClusterClientUtil"]]],"meta":{"line":36,"file":"Client.js","path":"src"}},{"name":"shard","description":"Shard helpers for the client (only if the process was spawned from a {@link ClusterManager})","nullable":true,"type":[[["ShardClientUtil"]]],"meta":{"line":44,"file":"Client.js","path":"src"}}],"events":[{"name":"error","description":"Emitted when the client encounters an error.","params":[{"name":"error","description":"The error encountered","type":[[["Error"]]]}],"meta":{"line":188,"file":"ClusterClientUtil.js","path":"src/sharding"}}],"meta":{"line":19,"file":"Client.js","path":"src"}},{"name":"Cluster","description":"A self-contained cluster created by the {@link ClusterManager}. Each one has a {@link ChildProcess} that contains\nan instance of the bot and its {@link ClusterClient}. When its worker/child process exits for any reason, the cluster\nwill spawn a new one to replace it as necessary.","extends":[[["EventEmitter"]]],"construct":{"name":"Cluster","params":[{"name":"manager","description":"Manager that is creating this cluster","type":[[["ClusterManager"]]]},{"name":"id","description":"The cluster's id","type":[[["number"]]]},{"name":"shards","description":"The list of shards to spawn","type":[[["Array","<"],["number",">"]]]},{"name":"totalShards","description":"The total amount of shards being spawned","type":[[["number"]]]}]},"props":[{"name":"manager","description":"Manager that created the shard","type":[[["ClusterManager"]]],"meta":{"line":33,"file":"Cluster.js","path":"src/sharding"}},{"name":"id","description":"The cluster's id in the manager","type":[[["number"]]],"meta":{"line":39,"file":"Cluster.js","path":"src/sharding"}},{"name":"args","description":"Arguments for the cluster's process (only when {@link ClusterManager#mode} is `process`)","type":[[["Array","<"],["string",">"]]],"meta":{"line":45,"file":"Cluster.js","path":"src/sharding"}},{"name":"execArgv","description":"Arguments for the shard's process executable (only when {@link ClusterManager#mode} is `process`)","type":[[["Array","<"],["string",">"]]],"meta":{"line":51,"file":"Cluster.js","path":"src/sharding"}},{"name":"shards","description":"The shards this cluster managers","type":[[["Array","<"],["number",">"]]],"meta":{"line":57,"file":"Cluster.js","path":"src/sharding"}},{"name":"env","description":"Environment variables for the cluster's process, or workerData for the cluster's worker","type":[[["Object"]]],"meta":{"line":63,"file":"Cluster.js","path":"src/sharding"}},{"name":"ready","description":"Whether the cluster's {@link Client} is ready","type":[[["boolean"]]],"meta":{"line":76,"file":"Cluster.js","path":"src/sharding"}},{"name":"process","description":"Process of the cluster (if {@link ClusterManager#mode} is `process`)","nullable":true,"type":[[["ChildProcess"]]],"meta":{"line":82,"file":"Cluster.js","path":"src/sharding"}},{"name":"worker","description":"Worker of the cluster (if {@link ClusterManager#mode} is `worker`)","nullable":true,"type":[[["Worker"]]],"meta":{"line":88,"file":"Cluster.js","path":"src/sharding"}},{"name":"_evals","description":"Ongoing promises for calls to {@link Cluster#eval}, mapped by the `script` they were called with","access":"private","type":[[["Map","<"],["string",", "],["Promise",">"]]],"meta":{"line":95,"file":"Cluster.js","path":"src/sharding"}},{"name":"_fetches","description":"Ongoing promises for calls to {@link Cluster#fetchClientValue}, mapped by the `prop` they were called with","access":"private","type":[[["Map","<"],["string",", "],["Promise",">"]]],"meta":{"line":102,"file":"Cluster.js","path":"src/sharding"}},{"name":"_exitListener","description":"Listener function for the {@link ChildProcess}' `exit` event","access":"private","type":[[["function"]]],"meta":{"line":109,"file":"Cluster.js","path":"src/sharding"}}],"methods":[{"name":"spawn","description":"Forks a child process or creates a worker thread for the cluster.\n<warn>You should not need to call this manually.</warn>","params":[{"name":"timeout","description":"The amount in milliseconds to wait until the {@link Client} has become ready\nbefore resolving (`-1` or `Infinity` for no wait)","optional":true,"default":30000,"type":[[["number"]]]}],"returns":[[["Promise","<"],["ChildProcess",">"]]],"meta":{"line":119,"file":"Cluster.js","path":"src/sharding"}},{"name":"kill","description":"Immediately kills the cluster's process/worker and does not restart it.","meta":{"line":186,"file":"Cluster.js","path":"src/sharding"}},{"name":"respawn","description":"Kills and restarts the cluster's process/worker.","params":[{"name":"options","description":"Options for respawning the cluster","optional":true,"type":[[["ClusterRespawnOptions"]]]}],"async":true,"returns":[[["Promise","<"],["ChildProcess",">"]]],"meta":{"line":208,"file":"Cluster.js","path":"src/sharding"}},{"name":"send","description":"Sends a message to the cluster's process/worker.","params":[{"name":"message","description":"Message to send to the shard","type":[["*"]]}],"returns":[[["Promise","<"],["Cluster",">"]]],"meta":{"line":219,"file":"Cluster.js","path":"src/sharding"}},{"name":"fetchClientValue","description":"Fetches a client property value of the cluster.","examples":["cluster.fetchClientValue('guilds.cache.size')\n  .then(count => console.log(`${count} guilds in cluster ${cluster.id}`))\n  .catch(console.error);"],"params":[{"name":"prop","description":"Name of the client property to get, using periods for nesting","type":[[["string"]]]}],"returns":[[["Promise","<"],["*",">"]]],"meta":{"line":238,"file":"Cluster.js","path":"src/sharding"}},{"name":"eval","description":"Evaluates a script or function on the cluster, in the context of the {@link Client}.","params":[{"name":"script","description":"JavaScript to run on the cluster","type":[[["string"]],[["function"]]]}],"returns":{"types":[[["Promise","<"],["*",">"]]],"description":"Result of the script execution"},"meta":{"line":272,"file":"Cluster.js","path":"src/sharding"}},{"name":"_handleMessage","description":"Handles a message received from the child process/worker.","access":"private","params":[{"name":"message","description":"Message received","type":[["*"]]}],"meta":{"line":308,"file":"Cluster.js","path":"src/sharding"}},{"name":"_handleExit","description":"Handles the shard's process/worker exiting.","access":"private","params":[{"name":"respawn","description":"Whether to spawn the shard again","optional":true,"default":"this.manager.respawn","type":[[["boolean"]]]}],"meta":{"line":386,"file":"Cluster.js","path":"src/sharding"}}],"events":[{"name":"spawn","description":"Emitted upon the creation of the cluster's child process/worker.","params":[{"name":"process","description":"Child process/worker that was created","type":[[["ChildProcess"]],[["Worker"]]]}],"meta":{"line":140,"file":"Cluster.js","path":"src/sharding"}},{"name":"ready","description":"Emitted upon the cluster's {@link Client#ready} event.","meta":{"line":313,"file":"Cluster.js","path":"src/sharding"}},{"name":"disconnect","description":"Emitted upon the cluster's {@link Client#disconnect} event.","meta":{"line":324,"file":"Cluster.js","path":"src/sharding"}},{"name":"reconnecting","description":"Emitted upon the cluster's {@link Client#reconnecting} event.","meta":{"line":335,"file":"Cluster.js","path":"src/sharding"}},{"name":"message","description":"Emitted upon receiving a message from the child process/worker.","params":[{"name":"message","description":"Message that was received","type":[["*"]]}],"meta":{"line":373,"file":"Cluster.js","path":"src/sharding"}},{"name":"death","description":"Emitted upon the shard's child process/worker exiting.","params":[{"name":"process","description":"Child process/worker that exited","type":[[["ChildProcess"]],[["Worker"]]]}],"meta":{"line":387,"file":"Cluster.js","path":"src/sharding"}}],"meta":{"line":16,"file":"Cluster.js","path":"src/sharding"}},{"name":"ClusterClientUtil","description":"Helper class for clustered clients spawned as a worker/child process, such as from a {@link ClusterManager}.\nUtilises IPC to send and receive data to/from the master process and other shards.","construct":{"name":"ClusterClientUtil","params":[{"name":"client","description":"Client of the current cluster","type":[[["Client"]]]},{"name":"mode","description":"Mode the cluster was spawned with","type":[[["ClusterManagerMode"]]]}]},"props":[{"name":"client","description":"Client for the cluster","type":[[["Client"]]],"meta":{"line":23,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"mode","description":"Mode the cluster was spawned with","type":[[["ClusterManagerMode"]]],"meta":{"line":29,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"id","description":"The cluster id of this client","readonly":true,"type":[[["number"]]],"meta":{"line":48,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"count","description":"Total number of clusters","readonly":true,"type":[[["number"]]],"meta":{"line":57,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"shard","description":"Shard helpers for the client (only if the process was spawned from a {@link ClusterManager})","readonly":true,"type":[[["ShardClientUtil"]]],"meta":{"line":66,"file":"ClusterClientUtil.js","path":"src/sharding"}}],"methods":[{"name":"send","description":"Sends a message to the master process.","emits":["Shard#event:message"],"params":[{"name":"message","description":"Message to send","type":[["*"]]}],"returns":[[["Promise","<"],["void",">"]]],"meta":{"line":76,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"fetchClientValues","description":"Fetches a client property value of each cluster, or a given cluster.","see":["{@link ClusterManager#fetchClientValues}"],"examples":["client.cluster.fetchClientValues('guilds.cache.size')\n  .then(results => console.log(`${results.reduce((prev, val) => prev + val, 0)} total guilds`))\n  .catch(console.error);"],"params":[{"name":"prop","description":"Name of the client property to get, using periods for nesting","type":[[["string"]]]},{"name":"cluster","description":"Cluster to fetch property from, all if undefined","optional":true,"type":[[["number"]]]}],"returns":[[["Promise","<("],["*","|"],["Array","<"],["*",">)>"]]],"meta":{"line":96,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"broadcastEval","description":"Evaluates a script or function on all clusters, or a given cluster, in the context of the {@link Client}s.","see":["{@link ClusterManager#broadcastEval}"],"examples":["client.cluster.broadcastEval(client => client.guilds.cache.size)\n  .then(results => console.log(`${results.reduce((prev, val) => prev + val, 0)} total guilds`))\n  .catch(console.error);"],"params":[{"name":"script","description":"JavaScript to run on each cluster","type":[[["function"]]]},{"name":"options","description":"The options for the broadcast","optional":true,"default":"{}","type":[[["BroadcastEvalOptions"]]]}],"returns":{"types":[[["Promise","<("],["*","|"],["Array","<"],["*",">)>"]]],"description":"Results of the script execution"},"meta":{"line":124,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"respawnAll","description":"Requests a respawn of all clusters.","see":["{@link ClusterManager#respawnAll}"],"params":[{"name":"options","description":"Options for respawning clusters","optional":true,"type":[[["MultipleClusterRespawnOptions"]]]}],"returns":{"types":[[["Promise","<"],["void",">"]]],"description":"Resolves upon the message being sent"},"meta":{"line":153,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"_handleMessage","description":"Handles an IPC message.","access":"private","params":[{"name":"message","description":"Message received","type":[["*"]]}],"async":true,"meta":{"line":162,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"_respond","description":"Sends a message to the master process, emitting an error from the client upon failure.","access":"private","params":[{"name":"type","description":"Type of response to send","type":[[["string"]]]},{"name":"message","description":"Message to send","type":[["*"]]}],"meta":{"line":184,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"singleton","description":"Creates/gets the singleton of this class.","scope":"static","params":[{"name":"client","description":"The client to use","type":[[["Client"]]]},{"name":"mode","description":"Mode the shard was spawned with","type":[[["ClusterManagerMode"]]]}],"returns":[[["ClusterClientUtil"]]],"meta":{"line":203,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"clusterIdForGuildId","description":"Get the cluster id for a given guild id.","scope":"static","params":[{"name":"guildId","description":"Snowflake guild id to get cluster id for","type":[[["Snowflake"]]]},{"name":"clusterCount","description":"Number of clusters","type":[[["number"]]]},{"name":"shardCount","description":"Number of shards","type":[[["number"]]]}],"returns":[[["number"]]],"meta":{"line":222,"file":"ClusterClientUtil.js","path":"src/sharding"}}],"meta":{"line":13,"file":"ClusterClientUtil.js","path":"src/sharding"}},{"name":"ClusterManager","description":"This is a utility class that makes multi-core clustering of a bot an easy and painless experience.\nIt works by spawning a self-contained {@link ChildProcess} or {@link Worker} for each individual cluster, each\ncontaining its own instance of your bot's {@link Client}. They all have a line of communication with the master\nprocess, and there are several useful methods that utilise it in order to simplify tasks that are normally difficult\nwith sharding. It can spawn a specific number of shards or the amount that Discord suggests for the bot, and takes a\npath to your main bot script to launch for each one.","extends":[[["EventEmitter"]]],"construct":{"name":"ClusterManager","params":[{"name":"file","description":"Path to your cluster script file","type":[[["string"]]]},{"name":"options","description":"Options for the cluster manager","optional":true,"type":[[["ClusterManagerOptions"]]]}]},"props":[{"name":"file","description":"Path to the cluster script file","type":[[["string"]]],"meta":{"line":89,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"clusterList","description":"List of clusters this cluster manager spawns","type":[[["string"]],[["Array","<"],["number",">"]]],"meta":{"line":99,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"totalClusters","description":"Amount of clusters that all cluster managers spawn in total","type":[[["number"]]],"meta":{"line":120,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"shardList","description":"List of shards this cluster manager spawns","type":[[["string"]],[["Array","<"],["number",">"]]],"meta":{"line":135,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"totalShards","description":"Amount of shards that all sharding managers spawn in total","type":[[["number"]]],"meta":{"line":155,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"guildsPerShard","description":"Amount of guilds each shard should spawn with","type":[[["number"]]],"meta":{"line":170,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"mode","description":"Mode for shards to spawn with","type":[[["ClusterManagerMode"]]],"meta":{"line":179,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"clusterRespawn","description":"Whether clusters should automatically respawn upon exiting","type":[[["boolean"]]],"meta":{"line":188,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"shardRespawn","description":"Whether shards should automatically respawn upon exiting","type":[[["boolean"]]],"meta":{"line":194,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"useConcurrency","description":"Whether the cluster manager should spawn as many concurrent shards as Discord allows","type":[[["boolean"]]],"meta":{"line":200,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"silent","description":"Suppresses stdio from clusters","type":[[["boolean"]]],"meta":{"line":206,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"clusterArgs","description":"An array of arguments to pass to clusters (only when {@link ClusterManager#mode} is `process`)","type":[[["Array","<"],["string",">"]]],"meta":{"line":212,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"shardArgs","description":"An array of arguments to pass to shards (only when {@link ClusterManager#mode} is `process`)","type":[[["Array","<"],["string",">"]]],"meta":{"line":218,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"execArgv","description":"An array of arguments to pass to the executable (only when {@link ClusterManager#mode} is `process`)","type":[[["Array","<"],["string",">"]]],"meta":{"line":224,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"token","description":"Token to use for obtaining the automatic shard count, and passing to clusters","nullable":true,"type":[[["string"]]],"meta":{"line":230,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"clusters","description":"A collection of clusters that this manager has spawned","type":[[["Collection","<"],["number",", "],["Cluster",">"]]],"meta":{"line":236,"file":"ClusterManager.js","path":"src/sharding"}}],"methods":[{"name":"createCluster","description":"Creates a single shard.\n<warn>Using this method is usually not necessary if you use the spawn method.</warn>","params":[{"name":"id","description":"Id of the shard to create\n<info>This is usually not necessary to manually specify.</info>","optional":true,"default":"this.shards.size","type":[[["number"]]]},{"name":"shards","description":"List of shard ids to spawn in this cluster","type":[[["Array","<"],["number",">"]]]},{"name":"totalShards","description":"The amount of shards being spawned","optional":true,"default":"this.totalShards","type":[[["number"]]]}],"returns":{"types":[[["Cluster"]]],"description":"Note that the created shard needs to be explicitly spawned using its spawn method."},"meta":{"line":252,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"spawn","description":"Spawns multiple clusters.","params":[{"name":"options","description":"Options for spawning shards","optional":true,"type":[[["MultipleClusterSpawnOptions"]]]}],"async":true,"returns":[[["Promise","<"],["Collection","<"],["number",", "],["Cluster",">>"]]],"meta":{"line":278,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"broadcast","description":"Sends a message to all clusters.","params":[{"name":"message","description":"Message to be sent to the clusters","type":[["*"]]}],"returns":[[["Promise","<"],["Array","<"],["Shard",">>"]]],"meta":{"line":387,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"broadcastEval","description":"Evaluates a script on all clusters, or a given cluster, in the context of the {@link Client}s.","params":[{"name":"script","description":"JavaScript to run on each shard","type":[[["function"]]]},{"name":"options","description":"The options for the broadcast","optional":true,"default":"{}","type":[[["BroadcastEvalOptions"]]]}],"returns":{"types":[[["Promise","<("],["*","|"],["Array","<"],["*",">)>"]]],"description":"Results of the script execution"},"meta":{"line":406,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"fetchClientValues","description":"Fetches a client property value of each cluster, or a given cluster.","examples":["manager.fetchClientValues('guilds.cache.size')\n  .then(results => console.log(`${results.reduce((prev, val) => prev + val, 0)} total guilds`))\n  .catch(console.error);"],"params":[{"name":"prop","description":"Name of the client property to get, using periods for nesting","type":[[["string"]]]},{"name":"cluster","description":"Cluster to fetch property from, all if undefined","optional":true,"type":[[["number"]]]}],"returns":[[["Promise","<("],["*","|"],["Array","<"],["*",">)>"]]],"meta":{"line":421,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"_performOnClusters","description":"Runs a method with given arguments on all clusters, or a given cluster.","access":"private","params":[{"name":"method","description":"Method name to run on each cluster","type":[[["string"]]]},{"name":"args","description":"Arguments to pass through to the method call","type":[[["Array","<"],["*",">"]]]},{"name":"cluster","description":"Cluster to run on, all if undefined","optional":true,"type":[[["number"]]]}],"returns":{"types":[[["Promise","<("],["*","|"],["Array","<"],["*",">)>"]]],"description":"Results of the method execution"},"meta":{"line":433,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"respawnAll","description":"Kills all running clusters and respawns them.","params":[{"name":"options","description":"Options for respawning clusters","optional":true,"type":[[["MultipleClusterRespawnOptions"]]]}],"async":true,"returns":[[["Promise","<"],["Collection","<"],["number",", "],["Cluster",">>"]]],"meta":{"line":463,"file":"ClusterManager.js","path":"src/sharding"}}],"events":[{"name":"shardCreate","description":"Emitted upon creating a cluster.","params":[{"name":"cluster","description":"Cluster that was created","type":[[["Cluster"]]]}],"meta":{"line":255,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"warn","description":"Emitted for general warnings.","params":[{"name":"info","description":"The warning","type":[[["string"]]]}],"meta":{"line":332,"file":"ClusterManager.js","path":"src/sharding"}}],"meta":{"line":30,"file":"ClusterManager.js","path":"src/sharding"}}],"interfaces":[],"typedefs":[{"name":"ClusterClientOptions","description":"Options for the cluster client.","type":[[["Object"]]],"params":[{"name":"logger","optional":true,"default":"Logger","type":[[["boolean"]],[["Object"]]]}],"meta":{"line":7,"file":"Client.js","path":"src"}},{"name":"ClusterRespawnOptions","description":"Options used to respawn a cluster.","type":[[["Object"]]],"props":[{"name":"delay","description":"How long to wait between killing the process/worker and\nrestarting it (in milliseconds)","optional":true,"default":500,"type":[[["number"]]]},{"name":"timeout","description":"The amount in milliseconds to wait until the {@link Client}\nhas become ready before resolving (`-1` or `Infinity` for no wait)","optional":true,"default":30000,"type":[[["number"]]]}],"meta":{"line":194,"file":"Cluster.js","path":"src/sharding"}},{"name":"ClusterManagerMode","description":"The mode to spawn clusters with for a {@link ClusterManager}. Can be either one of:\n* 'worker' to use [cluster Workers](https://nodejs.org/api/cluster.html)\n* 'process' to use child processes","type":[[["string"]]],"meta":{"line":31,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"ClusterManagerOptions","description":"The options to spawn clusters and shards with for a {@link ClusterManager}.","type":[[["Object"]]],"props":[{"name":"totalClusters","description":"Number of total clusters of all cluster managers or \"auto\"\n<warn>It is not recommended to spawn more clusters than CPUs.</warn>","optional":true,"default":"'auto'","type":[[["string"]],[["number"]]]},{"name":"totalShards","description":"Number of total shards of all cluster managers or \"auto\"","optional":true,"default":"'auto'","type":[[["string"]],[["number"]]]},{"name":"clusterList","description":"List of clusters to spawn or \"auto\"","optional":true,"default":"'auto'","type":[[["string"]],[["Array","<"],["number",">"]]]},{"name":"shardList","description":"List of shards to spawn or \"auto\"","optional":true,"default":"'auto'","type":[[["string"]],[["Array","<"],["number",">"]]]},{"name":"guildsPerShard","description":"Amount of guilds each shard should spawn with\n(only available when totalShards is set to 'auto')","optional":true,"default":1000,"type":[[["number"]]]},{"name":"mode","description":"Which mode to use for clusters\n<info>Multiprocessing is only available for workers</info>","optional":true,"default":"'worker'","type":[[["ClusterManagerMode"]]]},{"name":"clusterRespawn","description":"Whether clusters should automatically respawn upon exiting","optional":true,"default":true,"type":[[["boolean"]]]},{"name":"shardRespawn","description":"Whether shards should automatically respawn upon exiting","optional":true,"default":true,"type":[[["boolean"]]]},{"name":"useConcurrency","description":"Whether the cluster manager should spawn as many\nconcurrent shards as Discord allows","optional":true,"default":true,"type":[[["boolean"]]]},{"name":"silent","description":"Suppresses stdio from clusters","optional":true,"default":false,"type":[[["boolean"]]]},{"name":"clusterArgs","description":"Arguments to pass to the cluster script when spawning","optional":true,"default":"[]","type":[[["Array","<"],["string",">"]]]},{"name":"shardArgs","description":"Arguments to pass to the shard script when spawning","optional":true,"default":"[]","type":[[["Array","<"],["string",">"]]]},{"name":"execArgv","description":"Arguments to pass to the cluster script executable when spawning","optional":true,"default":"[]","type":[[["string"]]]},{"name":"token","description":"Token to use for automatic shard count and passing to clusters","optional":true,"type":[[["string"]]]}],"meta":{"line":38,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"MultipleClusterSpawnOptions","description":"Option used to spawn multiple clusters.","type":[[["Object"]]],"props":[{"name":"clusters","description":"Number of clusters to spawn","optional":true,"default":"this.totalClusters","type":[[["number"]],[["string"]]]},{"name":"shards","description":"Number of shards to spawn","optional":true,"default":"this.totalShards","type":[[["number"]],[["string"]]]},{"name":"delay","description":"How long to wait in between spawning each shard (in milliseconds)","optional":true,"default":5500,"type":[[["number"]]]},{"name":"timeout","description":"The amount in milliseconds to wait until the {@link Client} has become ready","optional":true,"default":30000,"type":[[["number"]]]}],"meta":{"line":264,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"BroadcastEvalOptions","description":"Options for {@link ClusterManager#broadcastEval} and {@link ClusterClientUtil#broadcastEval}.","type":[[["Object"]]],"props":[{"name":"cluster","description":"Shard to run script on, all if undefined","optional":true,"type":[[["number"]]]},{"name":"context","description":"The JSON-serializable values to call the script with","optional":true,"type":[["*"]]}],"meta":{"line":393,"file":"ClusterManager.js","path":"src/sharding"}},{"name":"MultipleClusterRespawnOptions","description":"Options used to respawn all clusters.","type":[[["Object"]]],"props":[{"name":"clusterDelay","description":"How long to wait between clusters (in milliseconds)","optional":true,"default":5000,"type":[[["number"]]]},{"name":"delay","description":"How long to wait between killing a shard's process and restarting it\n(in milliseconds)","optional":true,"default":500,"type":[[["number"]]]},{"name":"timeout","description":"The amount in milliseconds to wait for a shard to become ready before\ncontinuing to another (`-1` or `Infinity` for no wait)","optional":true,"default":30000,"type":[[["number"]]]}],"meta":{"line":448,"file":"ClusterManager.js","path":"src/sharding"}}],"externals":[]}